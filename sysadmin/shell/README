How to use:

1) Install Debian Wheezy base system, use host name "gold", domain
name "corp.example.com";

$ cat /etc/hostname
gold
$ cat /etc/hosts
127.0.0.1   localhost
127.0.1.1   gold.corp.example.com gold

# The following lines are desirable for IPv6 capable hosts
::1     ip6-localhost ip6-loopback
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters

2) Use static network configuration in /etc/network/interfaces:

iface eth0 inet static
    address 10.0.0.10
    netmask 255.255.255.0
    gateway 10.0.0.1

Setup /etc/resolv.conf:
$ cat /etc/resolv.conf
nameserver 8.8.8.8
nameserver 8.8.4.4

NOTICE: If you DON'T use 10.0.0.10 for the "gold" server, adjust ./etc/bind/db.{corp,10}.

3) Run ./run.sh as root role, it may fail, fix errors and run ./run.sh
again until all are OK.

$ cat /etc/resolv.conf
# Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)
#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN
search corp.example.com
nameserver 127.0.0.1
# for failover in case bind9 on 127.0.0.1 is not available
#nameserver 8.8.8.8
#nameserver 8.8.4.4

4) Run /usr/share/doc/exim4-base/examples/exim-gencert to generate
certificates for Exim if you can't get CA issued certificates, the
"Server name" must be "smtp.corp.example.com".


5) Optionally,
CONFDIR=`pwd`/etc/exim4 /usr/sbin/update-exim4.conf.template -r


=============================================================
Issues:

If you encounter this error, check whether the keytab file exists
and is readable by slapd.
    $ ldapwhoami
    SASL/GSSAPI authentication started
    ldap_sasl_interactive_bind_s: Other (e.g., implementation specific) error (80)
            additional info: SASL(-1): generic failure: GSSAPI Error: Unspecified GSS failure.  Minor code may provide more information (Unknown error)


=============================================================
Reference:

Shorewall       http://shorewall.net/

Kerberos        http://web.mit.edu/kerberos/
                http://techpubs.spinlocksolutions.com/dklar/kerberos.html

Cyrus SASL      http://www.cyrusimap.org/docs/cyrus-sasl/

OpenLDAP        http://www.openldap.org/
                http://techpubs.spinlocksolutions.com/dklar/ldap.html

Bind 9          http://www.isc.org/software/bind/documentation

Exim 4          http://wiki.debian.org/PkgExim4
                http://www.exim.org/
                http://www.jcdigita.com/eximconfig/
                /usr/share/doc/exim4-base/README.Debian.gz
                apropos exim

Dovecot         http://dovecot.org/


=============================================================
Resource:

Free SSL certificate:   http://cert.startcom.org/
