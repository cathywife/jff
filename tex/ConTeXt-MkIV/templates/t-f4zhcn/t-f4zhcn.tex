%D \module
%D   [      file=t-zhfonts,
%D        version=2009.05.12,
%D          title=\CONTEXT\ User Module,
%D       subtitle=ZhFonts,
%D         author=Li Yanrui,
%D           date=\currentdate,
%D      copyright=Wolfgang Schuster,
%D          email=lyanry@gmail.com,
%D        license=Public Domain]

\writestatus{loading}{Context User Module / f4zhcn}

\unprotect

\setupmodule[size=11pt]
\usemodule[simplefonts][size=\currentmoduleparameter{size}]

\setmainfont[TeXGyrePagella]
\setsansfont[TeXGyreHeros]
\setmonofont[TeXGyreCursor]

\setcjkmainfont
    [AdobeSongStd]
    [regular={* Light},
     italic={AdobeKaitiStd Regular},
     bold={AdobeHeitiStd Regular},
     bolditalic={AdobeHeitiStd Regular}]

\setcjksansfont
    [AdobeKaitiStd]
    [bold={AdobeHeitiStd Regular},
     bolditalic={AdobeHeitiStd Regular}]

\setcjkmonofont
    [AdobeFangsongStd]
    [bold={AdobeHeitiStd Regular},
     bolditalic={AdobeHeitiStd Regular}]

\setscript[hanzi]

\startlua
  dofile (kpse.find_file ("zhcnpunc.lua", "tex"))
  callback.register("post_linebreak_filter", zhcnpunc.proc)
\stoplua

\protect \endinput
